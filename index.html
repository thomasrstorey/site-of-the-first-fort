<!DOCTYPE <!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
	<title>site of the first fort</title>
	<!-- MAPBOX -->
	<script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.8/mapbox.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.8/mapbox.css' rel='stylesheet' />
	<!-- JQ -->
	<script src='./libs/jquery/dist/jquery.min.js'></script>
	<!-- CSS -->
	<link href='./libs/skeleton-css/css/normalize.css' rel="stylesheet" />
	<link href='./libs/skeleton-css/css/skeleton.css' rel="stylesheet" />
	<link href='./libs/font-awesome/css/font-awesome.min.css' rel="stylesheet"/>
	<link href='./css/styles.css' rel="stylesheet" />
</head>
<body>
	<div id="map-container" class="container">
		<div class="row">
			<div  id="map-column" class="two-thirds column">
				<div id='map'></div>
			</div>
			<div id="text-column" class="one-third column">
			<h3 id="text-title">Site of the First Fort</h3>
			<hr>
			<p id="text-body">Click anywhere on the islands to learn about the histories of La Florida Archipelago</p>
			<div id="about-row" class="row">
				<hr>
				<a id="about"><i class="fa fa-info-circle"></i></a>
			</div>
			</div>
		</div>
		
	</div>
	

	<script>
		L.mapbox.accessToken = 'pk.eyJ1IjoidHJzdG9yZXkiLCJhIjoiUzI3VDJDbyJ9.RWm7-0aLW4yy1ZzDt8I5Hw';
		// Define a map without a Map ID so we
		// have to add each part of it manually.
		var textCol = $("#text-column");
		var textTitle = $("#text-title");
		var textBody = $("#text-body");
		var about = $("#about");
		about.click(showAbout);
		var currentMarker = L.marker();
		var map = L.mapbox.map('map', undefined);
		map.attributionControl.removeFrom(map);
		// The visible tile layer
		L.mapbox.tileLayer('trstorey.lo02bfng').addTo(map);

		

		var featureLayer = L.mapbox.featureLayer('trstorey.lo02bfng')
		.addTo(map);

		featureLayer.on('ready', function () {
			featureLayer.setStyle({opacity: 0.0, fillOpacity: 0.0});
		});

		featureLayer.on('click', function(e) {
		  e.layer.closePopup();
		  map.removeLayer(currentMarker);
		  var feature = e.layer.feature;
		  currentMarker = L.marker(e.latlng, {
		    icon: L.mapbox.marker.icon({
		        'marker-size': 'small',
		        'marker-color': '#caa'
		    	})
			}).addTo(map);
		  textTitle.html(feature.properties.title);
		  textBody.html("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla pharetra turpis eu mi pretium, quis lacinia purus egestas. Donec at erat condimentum, feugiat leo sed, consequat dui. Nullam arcu nunc, finibus sed ipsum et, suscipit feugiat orci. Nullam a congue ex. Ut et pretium libero, in lobortis lectus. Vivamus interdum enim at enim scelerisque, eget ultrices tellus consectetur. Donec blandit augue at lacinia convallis. Curabitur pharetra magna ut vestibulum pharetra. Aliquam sed pulvinar est, eu placerat magna. Pellentesque gravida rutrum dolor, vel sodales turpis accumsan in.<br/>Integer interdum accumsan erat eu fringilla. Praesent ut urna est. Vivamus vulputate condimentum arcu id consequat. Ut magna ligula, ornare ac varius pulvinar, fermentum quis lectus. Cras in rhoncus sem. Quisque sit amet ligula accumsan, consequat leo eget, blandit est. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aliquam dolor justo, gravida vitae metus ac, ultricies vestibulum lacus. In hac habitasse platea dictumst. Donec eget tellus quis felis tincidunt convallis. Praesent luctus, eros in aliquam pulvinar, tortor diam tempus quam, non finibus nulla nunc vel dolor. Sed dapibus est vitae libero volutpat, in aliquam metus rutrum. Aliquam nec lorem id nulla placerat rhoncus. Suspendisse eu eros augue.");
		});

		// Finally, center the map.
		map.setView([31, -82], 9);

		function showAbout () {
			textTitle.html("About");
			textBody.html("Artist statement for site of the first fort.");
		}

	</script>
</body>
</html>